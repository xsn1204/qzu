
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <title>æ¡Œé¢</title>
    <style>
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; font-family: "Microsoft YaHei", sans-serif; }
        
        /* æ¡Œé¢èƒŒæ™¯ï¼šç»å…¸çš„å­¦é™¢æ´¾æ·±è“è‰²æˆ–å¸¦æ ¡å¾½çš„å£çº¸ */
        .desktop {
            width: 100vw; height: 100vh;
                padding-bottom: 40px; /* ç•™å‡ºä»»åŠ¡æ ç©ºé—´ */
            background: #2c3e50 url('https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?auto=format&fit=crop&q=80&w=2070') no-repeat center;
            background-size: cover;
            position: relative;
        }

        /* å›¾æ ‡åŒºåŸŸ */
        .icon-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, 80px);
            grid-template-rows: repeat(auto-fill, 90px);
            grid-auto-flow: column;
            gap: 15px;
            padding: 20px;
            height: calc(100% - 40px);
        }
        .icon {
            width: 80px; text-align: center; cursor: pointer; color: white; text-shadow: 1px 1px 2px #000;
        }
        .icon img { width: 48px; height: 48px; display: block; margin: 0 auto 5px; filter: drop-shadow(0 0 2px rgba(0,0,0,0.5)); }
        .icon span { font-size: 12px; word-break: break-all; line-height: 1.2; display: block; }

        /* å³ä¾§ä¾¿ç­¾ï¼šæ ¸å¿ƒçº¿ç´¢åŒº */
        .sticky-note {
            position: absolute; right: 30px; top: 40px;
            width: 240px; background: #fdf6b2; padding: 15px;
            box-shadow: 5px 5px 10px rgba(0,0,0,0.2);
            color: #1a1a1a;
            border-bottom-right-radius: 20px 5px;
        }
        .sticky-note h4 { margin: 0 0 10px 0; border-bottom: 1px solid #e5e7eb; padding-bottom: 5px; color: #92400e; font-size: 14px; }
        .sticky-note p { font-size: 12px; margin: 5px 0; line-height: 1.6; }
        .sticky-note .urgent { color: #dc2626; font-weight: bold; }

        /* ä»¿ Win10 ä»»åŠ¡æ  */
        .taskbar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 40px;
            background: rgba(199, 187, 187, 0.85);
            display: flex;
            align-items: center;
            backdrop-filter: blur(5px);
            z-index: 6000; /* ä¿è¯åœ¨å¼¹çª—ä¹‹ä¸Š */
            color: white;
        }

        /* å¼€å§‹æŒ‰é’® */
        .start-btn {
            width: 48px; height: 100%; display: flex; align-items: center; justify-content: center;
            cursor: pointer; transition: background 0.2s;
        }
        .start-btn:hover { background: rgba(255, 255, 255, 0.1); }
        .start-btn img { width: 20px; height: 20px; filter: invert(1); }

        /* æœç´¢æ¡† */
        .search-container {
            height: 32px; width: 240px; background: rgba(255, 255, 255, 0.9);
            margin: 0 10px; display: flex; align-items: center; padding: 0 10px;
            border-radius: 2px;
        }
        .search-container input {
            border: none; background: none; outline: none; width: 100%;
            font-size: 12px; color: #333;
        }
        .search-icon { font-size: 14px; margin-right: 8px; color: #666; }

        /* å¿«æ·å›¾æ ‡ */
        .task-icons { display: flex; height: 100%; align-items: center; gap: 5px; }
        .task-icon { width: 40px; height: 100%; display: flex; align-items: center; justify-content: center; cursor: pointer; }
        .task-icon img { width: 22px; height: 22px; }

        /* ç³»ç»Ÿæ‰˜ç›˜ä¸æ—¶é’Ÿ */
        .tray-area { margin-left: auto; display: flex; align-items: center; padding: 0 10px;color: #000000; }
        .clock { text-align: center; font-size: 11px; line-height: 1.2; padding: 0 5px; cursor: default; }
        /* ä¼˜åŒ–æœç´¢ç»“æœé¡¹å¸ƒå±€ */
        .search-item {
            padding: 12px 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: background 0.2s;
        }

        .search-item:hover {
            background-color: #e5f3ff;
        }

        /* æœç´¢æ–‡å­—ä¿¡æ¯çš„å®¹å™¨ */
        .search-item-info {
            display: flex;
            flex-direction: column;
        }

        .search-item-title {
            font-size: 13px;
            font-weight: bold;
            color: #000;
        }

        .search-item-type {
            font-size: 11px;
            color: #0067b8;
        }
        /* --- Windows 10 é£æ ¼çª—å£ --- */
        .window {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 640px; height: 420px; background: #fff; border: 1px solid #1883d7;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3); display: none; flex-direction: column; z-index: 2000;
        }
        .window-header { height: 32px; display: flex; justify-content: space-between; align-items: center; padding-left: 10px; user-select: none; }
        .header-title { font-size: 12px; display: flex; align-items: center; gap: 6px; color: #333; }
        .header-controls { display: flex; height: 100%; }
        .control-btn { width: 46px; height: 32px; display: flex; align-items: center; justify-content: center; transition: 0.2s; font-size: 16px; color: #333; }
        .control-btn:hover { background: #e5e5e5; }
        .close-btn:hover { background: #e81123; color: white; }

        .window-main { display: flex; flex: 1; border-top: 1px solid #f0f0f0; overflow: hidden; }
        .window-sidebar { width: 160px; background: #f0f0f0; border-right: 1px solid #e5e5e5; padding: 10px; font-size: 12px; color: #333; }
        .window-content { flex: 1; padding: 20px; display: grid; grid-template-columns: repeat(auto-fill, 90px); gap: 15px; background: white; align-content: flex-start; }
        /* å›æ”¶ç«™æ–‡ä»¶å›¾æ ‡ */
        .deleted-item { width: 90px; display: flex; flex-direction: column; align-items: center; cursor: pointer; padding: 8px 4px; border: 1px solid transparent; }
        .deleted-item:hover { background: #e5f3ff; border: 1px solid #99d1ff; }
        .deleted-item img { width: 42px; height: 42px; filter: grayscale(100%); opacity: 0.6; }
        .deleted-item span { font-size: 11px; text-align: center; margin-top: 6px; color: #333; word-break: break-all; }
   /* ç´§è´´åº•éƒ¨çš„æœç´¢å†å²é¢æ¿ */
        .history-window { 
            position: fixed; bottom: 40px; left: 0; 
            width: 320px; height: 450px; 
            background: rgba(255, 255, 255, 0.98); 
            border: 1px solid #ccc; border-bottom: none;
            display: none; flex-direction: column; z-index: 4000;
            animation: slideUp 0.2s ease-out;
        }

        @keyframes slideUp {
            from { transform: translateY(10px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* ä¿®æ”¹åçš„ history-list æ ·å¼ */
        .history-list { 
            flex: 1; 
            overflow-y: auto; 
            padding: 10px; 
            display: flex;           /* å¯ç”¨ Flex å¸ƒå±€ */
            flex-direction: column;
        }

        /* æ–°å¢ï¼šæç¤ºæ–‡å­—çš„å±…ä¸­æ ·å¼ */
        .no-history-msg {
            margin: auto;            /* åœ¨ Flex å®¹å™¨ä¸­å®ç°å®Œç¾å±…ä¸­ */
            color: #999; 
            font-size: 12px;
            text-align: center;
        }
        .history-item { 
            padding: 12px 15px; margin-bottom: 2px;
            background: #fff; color: #333; cursor: pointer; font-size: 13px; 
            display: flex; align-items: center; gap: 10px; border-left: 3px solid transparent;
        }
        .history-item:hover { background: #e5f3ff; border-left: 3px solid #0078d7; }
        .history-item::before { content: "ğŸ•’"; font-size: 12px; opacity: 0.6; }

        /* --- å¾®ä¿¡çª—å£å®¹å™¨ (Win10é£æ ¼) --- */
        .win-window {
            position: fixed;         /* æ›´æ”¹ä¸º fixed */
            top: 50%;                /* å‚ç›´å±…ä¸­ */
            left: 50%;               /* æ°´å¹³å±…ä¸­ */
            transform: translate(-50%, -50%); /* æŠµæ¶ˆè‡ªèº«é•¿å®½çš„ä¸€åŠå®ç°å®Œç¾å±…ä¸­ */
            width: 870px; 
            height: 620px;
            background: #fff; 
            border: 1px solid var(--win-blue);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: none; 
            flex-direction: column; 
            z-index: 1000;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", "Microsoft YaHei", sans-serif;
            font-size: 14px;
        }
        .win-header {
            height: 32px; background: #fff; display: flex; justify-content: space-between;
            align-items: center; padding-left: 10px; cursor: move; border-bottom: 1px solid #eee;
        }
        .win-controls { display: flex; height: 100%; }
        .win-btn { width: 46px; height: 32px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 16px; }
        .win-btn:hover { background: #e5e5e5; }
        .close-btn:hover { background: #e81123; color: white; }

        /* --- å¾®ä¿¡å†…éƒ¨å†…å®¹æ ·å¼ --- */
        /* ç¡®ä¿ä¸»ä½“æ’‘æ»¡é™¤å»æ ‡é¢˜æ åçš„ç©ºé—´ */
        .wechat-body {
            flex: 1;
            display: flex;
            overflow: hidden;
        }
        .sidebar { width: 50px; background: #2e2e2e; display: flex; flex-direction: column; align-items: center; padding-top: 20px; }
        .nav-icon { color: #919191; font-size: 20px; margin-bottom: 25px; cursor: pointer; }
        .nav-icon.active { color: var(--wechat-green); }

        
        .chat-list { width: 220px; background: #e6e6e6; border-right: 1px solid #dcdcdc; overflow-y: auto; }
        .list-item { height: 50px; font-size: 0.95em;display: flex; padding: 12px; align-items: center; cursor: pointer; border-bottom: 1px solid #ddd; }
        .list-item:hover { background: #dbdbdb; }
        .list-item.selected { background: #c5c5c5; }
        .avatar { width: 40px; height: 40px; border-radius: 4px; margin-right: 10px; background: #ccc; display: flex; align-items: center; justify-content: center; color: white; }

        .main-view { flex: 1; background: #f5f5f5; display: flex; flex-direction: column; position: relative; }
        .view-header {
            height: 60px; /* ç¨å¾®åŠ é«˜åˆ° 60px æ›´æœ‰ç©ºé—´æ„Ÿ */
            padding: 0 25px;
            display: flex;  font-size: 15px;
            justify-content: space-between; /* å·¦å³åˆ†å¸ƒ */
            align-items: center;
            border-bottom: 1px solid #e7e7e7;
            background: #f5f5f5;
        }

        /* æ¨¡æ‹Ÿå³ä¾§çš„æ›´å¤šæ“ä½œå›¾æ ‡ */
        .view-header::after {
            content: "Â·Â·Â·"; 
            font-size: 20px;
            color: #888;
            cursor: pointer;
        }
        .msg-bubble {
            position: relative;
            background: #fff;
            padding: 9px 12px;  line-height: 1.4;
            border-radius: 4px;
            max-width: 70%;
            font-size: 1em;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }

        /* æ·»åŠ æ°”æ³¡å°å°–è§’ */
        .msg-bubble::before {
            content: "";
            position: absolute;
            left: -6px;
            top: 10px;
            border-width: 6px 6px 6px 0;
            border-style: solid;
            border-color: transparent #fff transparent transparent;
        }
        /* --- Moments Style --- */
        #moments-content {
            flex: 1; /* å æ®å‰©ä½™å‚ç›´é«˜åº¦ */
            height: 100%;
            padding: 20px 40px;
            overflow-y: auto; /* å…è®¸æ»šåŠ¨ */
            background: #f7f7f7;
            display: flex;
            flex-direction: column;
            min-height: 0; /* é˜²æ­¢å†…éƒ¨å†…å®¹æ’‘ç ´å®¹å™¨ */
        }

        .moment {
            display: flex;
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            margin-bottom: 20px;
        }
        .moment-body {
            flex: 1;
        }
        .moment .avatar {
            width: 40px;
            height: 40px;
            border-radius: 4px; /* æˆ–æ–¹è§’ 4px */
            margin-right: 15px;
            flex-shrink: 0;
            /* å‘ä¸‹ç§»åŠ¨å¤´åƒ */
            margin-top: 15px; /* æˆ–ä½¿ç”¨ top: 10px; */
        }


        .moment-detail {
            flex: 1;
        }

        .moment .m-name {
            color: #576b95;
            font-weight: bold;
            font-size: 15px;
            margin-bottom: 2px;
        }

        .moment-detail p {
            margin: 0 0 4px 0; /* å†…å®¹å’Œæ—¶é—´é—´è· */
            font-size: 14px;
        }

        .moment-detail .time {
            color: #bbb;
            font-size: 12px;
            margin-top: 5px;
        }

        /* å¯é€‰ï¼šæœ‹å‹åœˆå›¾ç‰‡ç½‘æ ¼ */
        .moment-image-grid {
            display: grid;
            grid-template-columns: repeat(3, 100px);
            gap: 5px;
            margin-bottom: 10px;
        }

        .moment-image-grid img {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 4px;
            background: #eee;
        }

        /* å…¬ä¼—å·å¡ç‰‡ */
        .subs-card { background: #fff; margin: 15px; padding: 15px; border-radius: 4px; cursor: pointer; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        /* å‹ç¼©å·¦ä¾§ä¼šè¯åˆ—è¡¨ä¸­æ ‡é¢˜ä¸é¢„è§ˆçš„ä¸Šä¸‹é—´è· */
        .list-item h4 {
            margin: 0;
            font-size: 14px;
            line-height: 1.2;
        }

        .list-item p {
            margin: 4px 0 0;
            font-size: 12px;
            line-height: 1.3;
            color: #888;
        }
        .moments-title {
            font-weight: bold;        /* åŠ ç²— */
            font-size: 16px;          /* å¯è°ƒæ•´å¤§å° */
            text-align: center;       /* å±…ä¸­ */
            padding: 10px 0;          /* ä¸Šä¸‹é—´è· */
            background: #f7f7f7;      /* å¯é€‰ï¼šèƒŒæ™¯è‰² */
            border-bottom: 1px solid #e0e0e0; /* å¯é€‰ï¼šåº•éƒ¨åˆ†å‰²çº¿ */
        }

        .progress-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0,0,0,0.6);
            color: #fff;
            padding: 6px 10px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 0.85rem;
            z-index: 9999;
        }
        .moment-footer {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #999;
                margin-top: 6px;
        }
        .like-link {
            color: inherit;
            text-decoration: none;
            cursor: pointer;
                }

        .like-link:hover {
            color: #07c160; /* å¾®ä¿¡ç»¿ */
        }


        .deleted-item {
            display: flex;
            align-items: center;
            gap: 10px;       /* å›¾æ ‡å’Œæ–‡å­—é—´è· */
            cursor: pointer;
        }


        .deleted-item span {
            color: #8B0000;   /* æ·±çº¢æ–‡å­— */
            font-weight: bold; /* å¯é€‰ï¼ŒåŠ ç²—æ›´é†’ç›® */
        }
        /* ===============================
   ğŸ“± æ‰‹æœºç«¯å¼ºåŠ›æ”¾å¤§é€‚é…
================================= */
@media (max-width: 768px) {
    /* 1. æ¡Œé¢å›¾æ ‡æ …æ ¼å¤§å¹…åº¦æ”¾å¤§ */
    .icon-grid {
        grid-template-columns: repeat(auto-fill, 100px) !important;
        grid-template-rows: repeat(auto-fill, 130px) !important;
        gap: 15px !important;
        padding: 15px !important;
        height: calc(100% - 65px) !important;
    }

    .icon {
        width: 100px !important;
    }

    .icon img {
        width: 60px !important; /* å›¾æ ‡å¤§ä¸€åœˆ */
        height: 60px !important;
    }

    .icon span {
        font-size: 14px !important; /* æ–‡å­—å˜å¤§ */
        margin-top: 5px;
    }

    /* 2. ä»»åŠ¡æ æ˜¾è‘—å˜é«˜ */
    .taskbar {
        height: 65px !important; /* ä»40pxå¢åŠ åˆ°65px */
    }

    .desktop {
        padding-bottom: 65px !important;
    }

    /* 3. ä»»åŠ¡æ å†…éƒ¨å…ƒç´ æ”¾å¤§ */
    .start-btn {
        width: 65px !important;
    }
    .start-btn img {
        width: 30px !important;
        height: 30px !important;
    }

    .search-container {
        height: 45px !important;
        width: 140px !important; /* ç»™å³è¾¹ç•™ç‚¹ç©ºé—´ */
    }

    .task-icon {
        width: 55px !important;
    }
    .task-icon img {
        width: 35px !important;
        height: 35px !important;
    }

    .clock {
        font-size: 13px !important;
        padding-right: 10px;
    }

    /* 4. éšè—æ‰‹æœºç«¯ä¸éœ€è¦çš„å…ƒç´ ï¼Œé˜²æ­¢é‡å  */
    .sticky-note {
        display: none; /* æ‰‹æœºç«¯ä¾¿ç­¾é€šå¸¸ä¼šæŒ¡ä½å›¾æ ‡ï¼Œå»ºè®®éšè—æˆ–ç¼©å° */
    }

/* 5. å¾®ä¿¡çª—å£é€‚é…ï¼šä¸å…¨å±ï¼Œå››å‘¨ç•™ç©ºéš™ */
    .win-window {
        /* è®¾ç½®å®½åº¦å’Œé«˜åº¦ä¸ºå±å¹•çš„ 90%ï¼Œå››å‘¨ç•™å‡º 5% çš„ç©ºéš™ */
        width: 92vw !important; 
        height: 75vh !important; 
        
        /* å±…ä¸­å®šä½ */
        top: 50% !important;
        left: 50% !important;
        transform: translate(-50%, -55%) !important; /* å‘ä¸Šåç§»ä¸€ç‚¹ï¼Œç»™åº•éƒ¨ä»»åŠ¡æ ç•™è§†è§‰ç©ºé—´ */
        
        /* åœ†è§’å’Œé˜´å½±å¢å¼ºæ‚¬æµ®æ„Ÿ */
        border-radius: 8px !important;
        box-shadow: 0 10px 30px rgba(0,0,0,0.5) !important;
        
        /* å†…éƒ¨å†…å®¹é€‚é… */
        display: none; /* åˆå§‹éšè—é€»è¾‘ä¸å˜ */
        flex-direction: column;
    }

    /* å¾®ä¿¡å†…éƒ¨å†…å®¹è‡ªåŠ¨é€‚é…ç¼©å°åçš„çª—å£ */
    .wechat-body {
        height: 100%;
    }

    /* 6. å¾®ä¿¡å†…éƒ¨æ¯”ä¾‹é€‚é…ï¼šchat-list å˜å®½ */
    .sidebar {
        width: 40px !important; /* ä¾§è¾¹æ ç¨å¾®æ”¶çª„ */
    }

    .chat-list {
        width: 20% !important; /* ä»å›ºå®šçš„ 220px æ”¹ä¸ºå çª—å£çš„ 35% */
        min-width: 100px; /* é˜²æ­¢è¿‡çª„ */
    }

    .list-item {
        height: 60px !important; /* å¢åŠ é«˜åº¦ï¼Œæ–¹ä¾¿æ‰‹æŒ‡è§¦ç¢° */
        padding: 8px !important;
    }

    .list-item .avatar {
        width: 35px !important;
        height: 35px !important;
        margin-right: 8px !important;
    }

    .list-item h4 {
        font-size: 13px !important; /* ç¼©å°æ ‡é¢˜å­—å·é€‚é…å®½åº¦ */
    }

    .list-item p {
        display: none; /* æ‰‹æœºç«¯å®½åº¦æœ‰é™ï¼Œå»ºè®®éšè—é¢„è§ˆæ–‡å­—ï¼Œåªç•™æ ‡é¢˜ */
    }

    .main-view {
        flex: 1; /* å³ä¾§èŠå¤©åŒºåŸŸå æ®å‰©ä½™ç©ºé—´ */
    }

    .view-header {
        height: 50px !important;
        padding: 0 15px !important;
    }
}
    .window {
         /* è®¾ç½®å®½åº¦å’Œé«˜åº¦ä¸ºå±å¹•çš„ 90%ï¼Œå››å‘¨ç•™å‡º 5% çš„ç©ºéš™ */
        width: 92vw !important; 
        height: 75vh !important; 
        
        /* å±…ä¸­å®šä½ */
        top: 50% !important;
        left: 50% !important;
        transform: translate(-50%, -55%) !important; /* å‘ä¸Šåç§»ä¸€ç‚¹ï¼Œç»™åº•éƒ¨ä»»åŠ¡æ ç•™è§†è§‰ç©ºé—´ */
        
        /* åœ†è§’å’Œé˜´å½±å¢å¼ºæ‚¬æµ®æ„Ÿ */
        border-radius: 8px !important;
        box-shadow: 0 10px 30px rgba(0,0,0,0.5) !important;
        
        /* å†…éƒ¨å†…å®¹é€‚é… */
        display: none; /* åˆå§‹éšè—é€»è¾‘ä¸å˜ */
        flex-direction: column;
    }
    #moments-content {
        padding: 10px 15px !important; /* æ˜¾è‘—ç¼©å°å¤–è¾¹è· */
    }

    .moment {
        padding: 12px !important;
        margin-bottom: 12px !important;
        /* å¦‚æœçª—å£ç‰¹åˆ«çª„ï¼Œå¯ä»¥å¼€å¯å‚ç›´å¸ƒå±€ï¼ˆå¯é€‰ï¼‰ */
        /* flex-direction: column; */
    }

    .moment .avatar {
        width: 35px !important;
        height: 35px !important;
        margin-right: 10px !important;
        margin-top: 5px !important; /* æ‰‹æœºç«¯å¤´åƒä¸Šç§»ä¸€ç‚¹æ›´å¯¹é½ */
    }

    .moment .m-name {
        font-size: 14px !important;
    }

    .moment-body p {
        font-size: 13px !important; /* å†…å®¹æ–‡å­—å¾®è°ƒ */
        line-height: 1.5 !important;
    }

    /* æœ‹å‹åœˆå›¾ç‰‡ç½‘æ ¼é€‚é…ï¼šæœ€å…³é”®éƒ¨åˆ† */
    .moment-image-grid {
        /* å°†åŸæœ¬å›ºå®šçš„ 100px æ”¹ä¸ºæŒ‰æ¯”ä¾‹åˆ†é…ï¼Œç¡®ä¿ä¸æº¢å‡º */
        grid-template-columns: repeat(3, 1fr) !important; 
        gap: 4px !important;
        max-width: 220px; /* é™åˆ¶æ€»å®½åº¦ */
    }

    .moment-image-grid img {
        width: 100% !important; /* å®½åº¦è·Ÿéšæ …æ ¼æ¯”ä¾‹ */
        height: auto !important;
        aspect-ratio: 1 / 1; /* ä¿æŒæ­£æ–¹å½¢ */
    }

    .moment-footer {
        font-size: 11px !important;
        margin-top: 8px !important;
    }

    #recycleWindow {
        /* 1. è®¾ç½®å®½åº¦ä¸ºå±å¹•çš„ 90%ï¼Œè¿™æ ·åœ¨æ‰‹æœºä¸Šæ°¸è¿œä¸ä¼šé¡¶æ»¡ */
        width: 90% !important; 
        
        /* 2. è®¾ç½®æœ€å¤§å®½åº¦ä¸º 600pxï¼Œè¿™æ ·åœ¨ç½‘é¡µç«¯ï¼ˆå¤§å±ï¼‰å®ƒæœ€å¤šåªä¼šåˆ° 600pxï¼Œä¸ä¼šæ— é™æ‹‰é•¿ */
        max-width: 600px !important; 

        /* 3. é«˜åº¦åŒç†ï¼Œè®¾ç½®æœ€å¤§é«˜åº¦é˜²æ­¢åœ¨æ‰‹æœºä¸Šè¿‡é«˜ */
        height: 400px !important;
        min-height: 300px !important;
        max-height: 80vh !important;

        /* 4. å±…ä¸­å¯¹é½è¡¥ä¸ */
        position: absolute;
        top: 50% !important;
        left: 50% !important;
        transform: translate(-50%, -50%) !important;
        
        display: flex;
        flex-direction: column;
    }
    /* ç‚¹èµé“¾æ¥åŸºç¡€æ ·å¼ */
.like-link {
    display: inline-flex;
    align-items: center;
    background: #eef2f7; /* æµ…ç°è‰²èƒŒæ™¯ */
    color: #003366 !important; /* è°ƒæ•´ä¸ºä½ å­¦æ ¡çš„ä¸»è‰²è°ƒ */
    padding: 2px 8px;
    border-radius: 12px;
    text-decoration: none !important;
    font-weight: bold;
    transition: all 0.3s ease;
    border: 1px solid transparent;
}

/* é¼ æ ‡æ‚¬æµ®æ—¶çš„æ•ˆæœï¼šå˜è“ã€å˜äº® */
.like-link:hover {
    background: #e0e9f5;
    border-color: #003366;
    transform: scale(1.05); /* æ•´ä½“å¾®æ”¾å¤§ */
}

/* å¤§æ‹‡æŒ‡å›¾æ ‡è·³åŠ¨åŠ¨ç”» */
.like-link:hover .thumb-icon {
    animation: thumbJump 0.4s ease-out;
}
@keyframes slideInRight {
    from { transform: translateX(110%); }
    to { transform: translateX(0); }
}

/* é€‰é¡¹æŒ‰é’®ï¼šå¤œé—´æ¨¡å¼ */
.gemini-opt-btn {
    background: #2d2d2d; 
    border: 1px solid #4285f4; 
    color: #e0e0e0; 
    padding: 10px 12px; 
    border-radius: 8px; 
    cursor: pointer; 
    text-align: left; 
    font-size: 13px; 
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.gemini-opt-btn:hover { 
    background: #3d3d3d; 
    border-color: #669df6;
    color: #ffffff;
    transform: translateX(5px); /* æ‚¬æµ®æ—¶è½»å¾®å³ç§» */
}

/* èŠå¤©çª—å£ï¼šå¤œé—´æ¨¡å¼è¡¥ä¸ */
#gemini-chat-win {
    background: #1e1e1e !important; /* çº¯æ·±è‰²èƒŒæ™¯ */
    border: 1px solid #333 !important;
}

#gemini-ai-text {
    color: #e0e0e0 !important;
    line-height: 1.8; /* å¢åŠ è¡Œé—´è· */
    display: block;  /* ç¡®ä¿å±æ€§ç”Ÿæ•ˆ */
    margin-bottom: 10px;
}

#gemini-options {
    background: #252525 !important;
    border-top: 1px solid #333 !important;
}
.gemini-opt-btn {
    transition: all 0.3s ease;
}
/* é¼ æ ‡æ‚¬åœåœ¨å·²ç¦ç”¨çš„æŒ‰é’®ä¸Šæ—¶ä¸äº§ç”Ÿä½ç§»æˆ–é«˜äº® */
.gemini-opt-btn:disabled:hover {
    transform: none !important;
    background: #333 !important;
}

@keyframes thumbJump {
    0% { transform: scale(1); }
    50% { transform: scale(1.4) rotate(-15deg); }
    100% { transform: scale(1); }
}

/* è£…é¥°æ–‡å­—æ ·å¼ */
.comment-count {
    color: #666;
    margin-left: 10px;
}


   </style>
</head>
<div id="gemini-toast" style="display: none; position: fixed; bottom: 80px; right: 20px; width: 300px; background: rgba(30, 30, 30, 0.95); color: white; border-radius: 8px; padding: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); z-index: 9999; cursor: pointer; border-left: 4px solid #4285f4; animation: slideInRight 0.3s ease;">
    <div style="display: flex; justify-content: space-between; align-items: flex-start;">
        <div style="display: flex; gap: 10px;">
        
            <span style="font-weight: bold; font-size: 14px;">âœ¨ Gemini æ€è€ƒä¼™ä¼´</span>
        </div>
        <span onclick="event.stopPropagation(); closeGeminiUI('gemini-toast')" style="opacity: 0.6; font-size: 18px;">&times;</span>
    </div>
    <p style="font-size: 13px; margin: 10px 0 0; color: #ccc;">æˆ‘æ³¨æ„åˆ°ä½ æ­£åœ¨æŸ¥è¯¢å…³é”®è¯ï¼Œéœ€è¦è¿›è¡Œæ·±åº¦è”æƒ³å—ï¼Ÿ</p>
</div>

<div id="gemini-chat-win" style="display: none; position: fixed; bottom: 100px; right: 20px; width: 350px; background: #fff; border-radius: 12px; box-shadow: 0 15px 50px rgba(0,0,0,0.2); z-index: 10000; flex-direction: column; overflow: hidden; border: 1px solid #e0e0e0;">
    <div style="background: #1a1a1a; color: white; padding: 15px; display: flex; justify-content: space-between; align-items: center;">
        <span style="font-weight: bold;">âœ¨ Gemini æ€è€ƒä¼™ä¼´</span>
        <span onclick="closeGeminiUI('gemini-chat-win')" style="cursor: pointer; font-size: 20px;">&times;</span>
    </div>
    <div id="gemini-content" style="height: 300px; overflow-y: auto; padding: 15px; font-size: 14px; line-height: 1.6; color: #333;">
        <p id="gemini-ai-text">è¯·é€‰æ‹©ä½ æ„Ÿå…´è¶£çš„æ–¹å‘ï¼š</p>
    </div>
    <div id="gemini-options" style="padding: 10px; border-top: 1px solid #eee; background: #f9f9f9; display: flex; flex-direction: column; gap: 8px;">
        </div>
</div>

<div id="recycleWindow" class="window" style="display: none;">
        <div class="window-header">
            <div class="header-title">
                <img src="https://img.icons8.com/color/16/000000/recycle-bin.png">
                <span>å›æ”¶ç«™</span>
            </div>
            <div class="header-controls">
                <div class="control-btn close-btn" onclick="closeWindow('recycleWindow')">Ã—</div>
            </div>
        </div>
        <div class="window-main">
            <div class="window-sidebar">
                <div style="color: #0067b8; font-weight: bold; margin-bottom: 8px;">å¿«é€Ÿè®¿é—®</div>
                <div style="padding: 4px 0; opacity: 0.7;">ğŸ  æ¡Œé¢</div>
                <div style="padding: 4px 0; background: #d7e8f5; margin: 0 -10px; padding-left: 10px;">ğŸ—‘ï¸ å›æ”¶ç«™</div>
            </div>
            <div class="window-content">
                <div class="deleted-item" onclick="alert('404ï¼šæ–‡ä»¶å·²æŸåï¼Œæ— æ³•æ¢å¤æˆ–è¯»å–ã€‚')">
                    <img src="word.png">
                    <span>â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿.docx</span>
                </div>
            </div>
        </div>
    </div>
    <div id="historyWindow" class="history-window">
    <div style="padding: 15px; font-size: 14px; font-weight: bold; color: #333; border-bottom: 1px solid #ddd; background: #f9f9f9;">æœ€è¿‘æœç´¢è®°å½•</div>
    <div class="history-list" id="historyList"></div>
</div>

<body>
        <div class="progress-indicator">1/33</div>

<div class="desktop">
    <div class="icon-grid">
        <div class="icon">
            <img src="https://img.icons8.com/color/48/000000/my-computer.png" alt="æ­¤ç”µè„‘">
            <span>æ­¤ç”µè„‘</span>
        </div>
        <div class="icon">
            <img src="https://img.icons8.com/color/48/000000/folder-invoices.png" alt="é¡¹ç›®åº•ç¨¿">
            <span>å®éªŒå®¤æˆæœå½’æ¡£(2023-2025)</span>
        </div>
        <div class="icon">
            <img src="https://img.icons8.com/color/48/000000/visual-studio-code-2019.png" alt="VS Code">
            <span>VS Code</span>
        </div>
        <div class="icon">
            <img src="https://img.icons8.com/color/48/000000/intellij-idea.png" alt="IntelliJ">
            <span>IntelliJ IDEA</span>
        </div>
        <div class="icon" onclick="window.open('chrome.html', '_blank')">
            <img src="https://img.icons8.com/color/48/000000/chrome.png" alt="Chrome">
            <span>Chrome</span>
        </div>
        <div class="icon">
            <img src="mendeley.png" alt="æ–‡çŒ®ç®¡ç†">
            <span>Mendeleyæ–‡çŒ®åº“</span>
        </div>
        
        <div class="icon">
            <img src="https://img.icons8.com/color/48/000000/python.png" alt="Python">
            <span>Python</span>
        </div>
    <div class="icon" onclick="window.open('excel.html', '_blank')">
        <img src="excel.png" alt="Excel">
        <span>302å®éªŒå®¤å¯’å‡ç¦»æ ¡æ—¶é—´ç»Ÿè®¡.xlsx</span>
    </div>
        <div class="icon" onclick="openRecycleBin()">
            <img src="https://img.icons8.com/color/48/000000/recycle-bin.png" alt="å›æ”¶ç«™">
            <span>å›æ”¶ç«™</span>
        </div>
    </div>

      <div id="wechatWin" class="win-window">
        <div class="win-header">
            <div style="font-size:12px; color:#666;">å¾®ä¿¡</div>
            <div class="win-controls">
                <div class="win-btn" onclick="toggleApp('wechatWin')">ï¼</div>
                <div class="win-btn close-btn" onclick="toggleApp('wechatWin')">Ã—</div>
            </div>
        </div>
        <div class="wechat-body">
            <div class="sidebar">
                <div class="nav-icon active" onclick="switchTab('chat')">ğŸ’¬</div>
                  <div class="nav-icon"  id="contact-icon">ğŸ‘¥</div>
                <div class="nav-icon" onclick="switchTab('moments')">ğŸŒ</div>
                <div style="flex-grow:1"></div>
                <div class="nav-icon">âš™ï¸</div>
            </div>
            <div class="chat-list">
                <div class="list-item" id="subs-item" onclick="switchTab('subs')">
                    <div class="avatar" style="background:#107bef">ğŸ“œ</div>
                    <div style="flex:1"><h4>è®¢é˜…å·</h4><p id="subs-preview">çŒ«çŒ«å›¾é‰´ï¼šPickä½ å¹´åº¦...</p></div>
                </div>
                <div class="list-item selected" onclick="openChat('Bur')">
                    <div class="avatar" style="background:#f39c12">ğŸ³</div>
                    <div style="flex:1"><h4>Bur</h4> <p>ğŸ¤·</p> </div>
                </div>
                  <div class="list-item" onclick="openChat('ææ˜è–‡ï¼ˆé’æºHRï¼‰')">
                    <div class="avatar" style="background:#ffb0f1">ğŸŒ±</div>
                    <div style="flex:1"><h4>ææ˜è–‡ï¼ˆé’æºHRï¼‰</h4><p>ä¸å®¢æ°”ï½</p></div>
                </div>
                <div class="list-item" onclick="openChat('302ç§‘ç ”ç‰§åœºï¼ˆç»¿è‰²æ— å¯¼ç‰ˆï¼‰')">
                    <div class="avatar" style="background:#5ab250">ğŸ„</div>
                    <div style="flex:1"><h4>302ç§‘ç ”ç‰§åœºï¼ˆç»¿...</h4><p>å®‹å®å¦‚æ„ï¼šè°¢è°¢å¤§å®¶</p></div>
                </div>
            </div>
            <div class="main-view">
<div id="chat-view" style="display:flex; flex-direction:column; height:100%;">
    <div class="view-header" id="chat-title">Bur</div>
    <div id="chat-msg" style="flex:1; padding:20px; overflow-y:auto;">

        <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-end;">
            <div style="background:#dcf8c6; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">
                è€æ¿å›½å¤–å¼€ä¼šè¿˜æ²¡å›ï¼Œç»„é‡Œçœ‹èµ·æ¥ä¹Ÿæ²¡å‰©å‡ ä¸ªäººï¼Œæˆ‘ä»¬å¹´ç»ˆæ€»ç»“è¿˜è¦å¼€å—ï¼Ÿ
            </div>
        </div>
        <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-start;">
            <div style="background:#fff; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">
                æ²¡å“ªæ¬¡èƒ½è·‘å¾—æ‰
            </div>
        </div>
                <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-start;">
            <div style="background:#fff; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">
                çœ‹çœ‹ä½ çš„PPTï¼Œæˆ‘å¸®ä½ æ¶¦è‰²ä¸‹ğŸ˜Š
            </div>
        </div>
        
        <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-end;">
            <div style="background:#dcf8c6; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">
                Væˆ‘50
            </div>
        </div>
           <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-end;">
    <div style="background:#dcf8c6; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">
        è¯è¯´ï¼Œæˆ‘è¿™å°å®éªŒå®¤ç”µè„‘ä¹‹å‰æ˜¯è°åœ¨ç”¨å•Šï¼Ÿ
    </div>
</div>

<div style="margin-bottom:15px;">
    <div style="background:#fff; padding:8px; border-radius:4px; width:fit-content;">
        æˆ‘æƒ³æƒ³ï¼Œä¸Šä¸€ä¸ªå¥½åƒæ˜¯<strong>éº¦é—»</strong>å­¦é•¿
    </div>
</div>

        <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-end;">
    <div style="background:#dcf8c6; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">
        å“¦â€¦å¥½ä¹…æ²¡åœ¨302çœ‹åˆ°ä»–äº†
    </div>
</div>

<div style="margin-bottom:15px;">
    <div style="background:#fff; padding:8px; border-radius:4px; width:fit-content;">
        ä½ å®ä¹ é‚£æ®µæ—¶é—´ï¼Œä»–å¥½åƒç”³è¯·é€€å‡ºå®éªŒå®¤äº†ï¼Œä¸Šæ¬¡çœ‹åˆ°ä»–æ¥å·¥ä½æŠŠä¸œè¥¿éƒ½æ¬èµ°äº†
    </div>
</div>
        <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-end;">
    <div style="background:#dcf8c6; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">
     å•Šï¼Ÿä¸ºä»€ä¹ˆï¼Œä»–ä¸æ˜¯ä¸€ç›´éƒ½ç®—æˆ‘ä»¬ç»„çš„å¤§è…¿å—?
    </div>
</div>

<div style="margin-bottom:15px;">
    <div style="background:#fff; padding:8px; border-radius:4px; width:fit-content;">
        ğŸ¤·
    </div>
</div>


    </div>
</div>

                <div id="moments-content" style="display: none;">
                    <div class="moments-title">æœ‹å‹åœˆ</div>
                    <div class="moment">
                        <div class="avatar" style="background:#29be8a"></div>
                        <div class="moment-body">
                                <p class="m-name">æ¯•åŠ æ€ç´¢</p>
                                <p>æˆ‘ä¸ºä»€ä¹ˆè¦æ²¡äº‹æ‰“å¼€<strong>ã€é’å¤§æ ‘æ´ã€‘</strong>ï¼Œè¢«ã€Šçº¿æ€§ä»£æ•°ã€‹å‡ºåˆ†çš„æ¶ˆæ¯æš´å‡»ğŸ˜­</p>

                                <div class="moment-footer">
                                    <span>35åˆ†é’Ÿå‰</span>
                                    <span>ğŸ‘ 1 | ğŸ’¬ 3</span>
                                </div>
                            </div>
                    </div>

                    <div class="moment">
                        <div class="avatar" style="background:#aaa9a9"></div>
                        <div class="moment-body">
                                <p class="m-name">åªæ´’ä¸€äº›è„±</p>
                                <p>æ­¤æ¡å·²å±è”½è¾…å¯¼å‘˜ï¼š<br>èƒ½è€…å¤šåŠ³ï¼Œä½ ä»¬èƒ½å§ï¼Œæˆ‘å›å®¶äº†ğŸ§³</p>

                                <div class="moment-footer">
                                    <span>1å¤©å‰</span>
                                    <span>ğŸ‘ 8 | ğŸ’¬ 5</span>
                                </div>
                            </div>
                    </div>
                                        <div class="moment">
                        <div class="avatar" style="background:#f0ab94"></div>
                        <div class="moment-body">
                                <p class="m-name">é’å¤§å—é—¨ä¸€æœŸçƒ¤å†·é¢</p>
                                <p>ä»Šå¤©æœ€åä¸€å¤©è€ä½ç½®å‡ºæ‘Šï¼Œä¸‹å‘¨æ¢åˆ°äº§ä¸šå›­ä¸œé—¨æ‘†ï¼ŒåŒå­¦ä»¬å¯’å‡å¿«ä¹ï¼</p>

                                <div class="moment-footer">
                                    <span>2å¤©å‰</span>
                                    <span>ğŸ‘ 28 | ğŸ’¬ 19</span>
                                </div>
                            </div>
                    </div>
                                        <div class="moment">
                        <div class="avatar" style="background:#5fbcff"></div>
                        <div class="moment-body">
                                <p class="m-name">è èå¹é›ª</p>
                                <p>åä½³èœå“è¯„é€‰ï¼Œè¯·ç»™èŠ³åè‹‘å°ç‚’ç‰›è‚‰é¥­æŠ•ä¸€ç¥¨ï¼</p>

                                <div class="moment-footer">
                                    <span>3å¤©å‰</span>
                                 <span class="text-sm text-gray-400 mt-2 flex items-center">
    <a href="extra2.html" class="like-link" target="_blank">
        <span class="thumb-icon">ğŸ‘</span> 5
    </a> 
    <span class="comment-count">| ğŸ’¬ 6</span>
</span>
                                </div>
                            </div>
                    </div>
                </div>
                <div id="subs-view" style="display:none; flex:1; overflow-y:auto; background:#ededed;">
                    <div class="view-header">è®¢é˜…å·</div>


                <div class="subs-card">
                    <p style="color:#999; font-size:12px;">é’å¤§çŒ«å 2025å¹´12æœˆ17æ—¥</p>
                    <p style="font-weight:bold; margin-top:5px;">çŒ«çŒ«å›¾é‰´ï¼šPickä½ å¹´åº¦æœ€çˆ±çš„ä¸€å¼ æ ¡å›­çŒ«å’ªæ—¥å¸¸ğŸ“¸</p>
                </div>
                <div class="subs-card">
                    <p style="color:#999; font-size:12px;">æœºå™¨ä¹‹å¿ƒ 2025å¹´11æœˆ28æ—¥</p>
                    <p style="font-weight:bold; margin-top:5px;">å­¦æœ¯åœˆç‚¸äº†ï¼ICLRè¯„å®¡å¤§å¼€ç›’ï¼ŒåŸæ¥ä½åˆ†æ˜¯å¥½å‹æ‰“çš„ </p>
                </div>

                <div class="subs-card">
                    <p style="color:#999; font-size:12px;">æ¯•å¯¼ 2025å¹´11æœˆ20æ—¥</p>
                    <p style="font-weight:bold; margin-top:5px;">é«˜ä¸­å­¦å†ï¼Œé è¯ˆéª—æ··æˆåšå¯¼ï¼Ÿæ·±æ‰’æ±Ÿè‹ç§‘æŠ€å¤§å­¦éƒ­ä¼Ÿéª—å±€</p>
                </div>


                <div class="subs-card" onclick="window.open('canteen2.html', '_blank')">
                    <p style="color:#999; font-size:12px;">QZUå°å–‡å­ 2025å¹´11æœˆ16æ—¥</p>
                    <p style="font-weight:bold; margin-top:5px;">ã€å‘•ã€‘åˆšåˆ·åˆ°å¸‚ç›‘å±€æŠ½æ£€å…¬å‘Šï¼Œå’±å­¦æ ¡é’å·é£Ÿå ‚çš„å¤§è‚ æ†èŒè¶…æ ‡äº†æ•´æ•´4å€ï¼è¯´æ˜¯é¤å…·æ¸…æ´—æ¶ˆæ¯’æµç¨‹å®Œå…¨ä¸åˆæ ¼[å›¾ç‰‡.jpg]ã€‚
            å‰å‡ å¤©åˆšåœ¨é’å·å°±é¤è¿‡çš„UUä»¬ï¼Œç°åœ¨è‡ªæ±‚å¤šç¦å§... </p>
                </div>
                <div class="subs-card" onclick="window.open('academic.html', '_blank')">
                    <p style="color:#999; font-size:12px;">å­¦æœ¯èµ„è®¯é€Ÿé€’ 2025å¹´11æœˆ2æ—¥</p>
                    <p style="font-weight:bold; margin-top:5px;">å‰¯æ•™æˆè½¬å²—åšä¿å®‰ï¼ŒåŠªåŠ›çš„ä½ è¿˜æœ‰æ–¹å‘å—ï¼Ÿ</p>
                </div>
                </div>
            </div>
        </div>
    </div>


    <div class="sticky-note">
        <h4>ğŸ“Œ å®éªŒå®¤ç®¡ç†è§„å®š</h4>
        <p>1. ä¸¥ç¦åœ¨å…¬ç”¨ç”µè„‘å­˜å‚¨ä¸ªäººè´¦å·å¯†ç ï¼</p>
        <p>2. å®šæœŸæ¸…ç†Dç›˜Tempæ–‡ä»¶å¤¹ï¼Œä¸å®šæœŸæ ¼å¼åŒ–ã€‚</p>
        <p>3. <span class="urgent">é‡è¦ï¼š</span>è´¦å·åŠå¯†ç ä»…é™å•ä¸ªå¹³å°ä½¿ç”¨ï¼Œè¯·å‹¿åœ¨å…¶ä»–å¹³å°é‡å¤ä½¿ç”¨ã€‚</p>
    </div>

    <div class="sticky-note" style="top: 280px; background: #cceeff; width: 220px;">
        <h4>ğŸ”‘ å¤‡å¿˜</h4>
        <p>å–„ç”¨å†…éƒ¨æœç´¢ï¼ˆå·¦ä¸‹è§’ï¼‰ä»¥åŠå¤–éƒ¨æœç´¢ï¼ˆçœŸå®äº’è”ç½‘ï¼‰ä»¥è·å–ä¿¡æ¯ã€‚</p>
        <p>èœå•æ æœ€å·¦ä¾§å¯æŸ¥çœ‹æœç´¢è®°å½•ï¼Œä¾¿äºå¿«é€Ÿè®¿é—®å†å²æŸ¥è¯¢ã€‚</p>
        <p><strong>ç¬¬4/5/11é¡µä¸­ï¼Œåˆ†åˆ«å¯è¿›è¡Œä¸€æ¬¡é¡µé¢å†…æœç´¢ã€‚</strong></p>
        <p>å…±è®¾ç½®10ä¸ªextraé¡µé¢ï¼Œextraé¡µé¢ä¸åŒ…å«å…³é”®è¯ï¼Œä¸å½±å“çº¿ç´¢æ¨è¿›ã€‚</p>
        <p>è‹¥ç‚¹å‡»æ— å“åº”ï¼Œåˆ™è¡¨ç¤ºè¯¥ä¿¡æ¯æ— å…³ï¼Œæ— éœ€ä½¿ç”¨F12æˆ–æŸ¥çœ‹æºç ä»¥è·å–çº¿ç´¢ã€‚</p>
        <p style="font-size:10px; color:#666;">AAAåœ°ä¸‹å…š 2026/1</p>
    </div>

<div class="taskbar">
        <div class="start-btn" onclick="toggleHistory(event)">
            <img src="https://img.icons8.com/material-outlined/24/ffffff/windows-10.png">
        </div>

<div class="search-container" style="position: relative;">
    <span class="search-icon">ğŸ”</span>
    <input type="text" id="searchInput" placeholder="æœç´¢..." oninput="handleExactSearch(this.value)" autocomplete="off">
    
    <div id="searchResults" style="display: none; position: absolute; bottom: 40px; left: 0; width: 100%; background: white; border: 1px solid #ccc; box-shadow: 0 -2px 10px rgba(0,0,0,0.2); color: #333; z-index: 1001;">
        <div style="padding: 10px; font-size: 11px; border-bottom: 1px solid #eee; background: #f9f9f9; color: #666; letter-spacing: 1px;">æœ€ä½³åŒ¹é…</div>
        <div class="search-item" onclick="recordAndJump('é’å¤§å¿ƒè¯­', 'login.html')">
            <img src="https://img.icons8.com/color/24/000000/heart-monitor.png" style="width: 24px; height: 24px;">
            <div class="search-item-info">
                <div class="search-item-title">é’å¤§å¿ƒè¯­</div>
                <div class="search-item-type">åº”ç”¨</div>
            </div>
        </div>
    </div>
</div>

<div class="task-icons">
    <div class="task-icon" onclick="toggleApp('wechatWin')">
        <img src="wechat.svg">
    </div>
    
<a href="mailbox.html" onclick="window.open(this.href, '_blank'); return false;" class="task-icon">
    <img src="logo1.png">
</a>
</div>
        <div class="tray-area">
            <div class="clock">
                <div id="time">04:17</div>
                <div id="date">2026/1/9</div>
            </div>
        </div>
    </div>
</div>

<script>
    const SEARCH_MAP = {
    'é’å¤§å¿ƒè¯­': 'login.html',
    'é’å¤§æ ‘æ´': 'bbq.html',
    'å›å»Š': 'bbshelp.html',
    'SIT LAB': 'lupage.html',
    'SIT Lab': 'lupage.html',
    'sit lab': 'lupage.html',
    'é«˜æˆå®‰': 'faculty.html',
        'éº¦é—»': 'search.html',
    'æ±Ÿå¥•äº‘': 'extra1.html',
    'æ™ºæ ¸ç§‘æŠ€': 'bbsfinal.html',
    'é’å·æ™ºæ ¸ç§‘æŠ€æœ‰é™å…¬å¸': 'bbsfinal.html',
    'é’å·æ™ºæ ¸ç§‘æŠ€': 'bbsfinal.html',
    'é’è‹—è®¡åˆ’': 'https://xsn1204.github.io/qmgame/',
    'å“è¶Šä¹‹æ˜Ÿ': 'https://xsn1204.github.io/qmgame/',
    'ææ˜è–‡': 'https://xsn1204.github.io/qmgame/',
    'é’æºæ•°å­—ç§‘æŠ€æœ‰é™å…¬å¸': 'https://xsn1204.github.io/qmgame/',
    'Marvin': 'bbs404.html',
    'marvin': 'bbs404.html',
    'é’å¤§é—¨æˆ·ç½‘ç«™': 'login2.html'
};

    const UIState = {
    startMenuOpen: false
};
    // åˆå§‹åŒ–
    window.onload = function() {
        renderHistory();
        updateClock();
        setInterval(updateClock, 1000);
    };

    // æ¸²æŸ“å†å²åˆ—è¡¨ï¼ˆä»æœ¬åœ°å­˜å‚¨è¯»å–ï¼‰
function renderHistory() {
    const list = document.getElementById('historyList');
    const history = JSON.parse(localStorage.getItem('searchHistory') || "[]");
    // ä½¿ç”¨ no-history-msg ç±»å
    list.innerHTML = history.length ? "" : "<div class='no-history-msg'>æš‚æ— æœ€è¿‘æœç´¢å†…å®¹</div>";
    
    history.forEach(itemText => {
        const div = document.createElement('div');
        div.className = 'history-item';
        div.innerText = itemText;
        div.onclick = () => jumpTo(itemText);
        list.appendChild(div);
    });
}

    // æ ¸å¿ƒé€»è¾‘ï¼šè®°å½•å¹¶è·³è½¬
function recordAndJump(keyword, url) {
    // 1. ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
    saveToLocalStorage(keyword);
    
    // 2. é€»è¾‘æ–°å¢ï¼šç‚¹å‡»åç«‹å³éšè—æœç´¢å¼¹å‡ºé¡¹
    const res = document.getElementById('searchResults');
    if (res) res.style.display = 'none';
    
    // 3. æ¸…ç©ºæœç´¢æ¡†è¾“å…¥æ–‡å­—ï¼ˆå¯é€‰ï¼Œæ¨¡æ‹Ÿæ›´çœŸå®ï¼‰
    document.getElementById('searchInput').value = '';
    
    // 4. æ‰§è¡Œè·³è½¬
   window.open(url, '_blank');
}
// å®šä¹‰ä¸åŒå…³é”®è¯å¯¹åº”çš„ AI å†…å®¹
const GEMINI_DATA = {
'æ±Ÿå¥•äº‘': {
    options: [
        "å¤§å­¦å‡ å¹´çº§è¿›å®éªŒå®¤åˆé€‚ï¼Ÿ", 
                "å­¦æœ¯ä¼šè®®ä¸Šä¸ºä»€ä¹ˆè¦åƒå°é¥¼å¹²ï¼Ÿ", 
        "ç½‘é¡µè§£å¯†æ¸¸æˆæ˜¯ä»€ä¹ˆï¼Ÿ"
    ],
    answers: [
        "å¤§ä¸€ï¼šç†è®ºçŸ¥è¯†åŸºç¡€å°šæµ…ï¼Œè¿›å®éªŒå®¤å¯èƒ½æ›´å¤šæ˜¯ç†Ÿæ‚‰å®éªŒå®¤æ–‡åŒ–å’Œåšäº›è¾…åŠ©å·¥ä½œã€‚<br>å¤§äºŒï¼šåŸºç¡€è¯¾ç¨‹å¼€å§‹å®Œå¤‡ï¼Œå¯ä»¥æ‰¿æ‹…ä¸€äº›å®é™…å°é¡¹ç›®ï¼Œé€‚åˆå°è¯•ä¸åŒæ–¹å‘ã€‚<br>å¤§ä¸‰ï¼šæœ€å¥½é˜¶æ®µï¼ŒåŸºç¡€çŸ¥è¯†ç¨³å›ºï¼Œå¯ä»¥ç‹¬ç«‹æ‰¿æ‹…ç§‘ç ”ä»»åŠ¡æˆ–é¡¹ç›®ï¼Œäº§å‡ºè®ºæ–‡/æˆæœæœºä¼šå¤§ã€‚<br>å¤§å››ï¼šä»ç„¶å¯è¿›å…¥ï¼Œä½†é€šå¸¸æ›´å¤šæ˜¯èµ¶é¡¹ç›®æˆ–åšæ¯•ä¸šè®¾è®¡ï¼Œå¯¹ç§‘ç ”æ·±åº¦å¯èƒ½å—é™ã€‚",
        "è¿™æ˜¯å­¦æœ¯åœˆçš„è‡ªå˜²æ¢—ï¼ŒæŒ‡åœ¨æŠ•å…¥å¤§é‡æ—¶é—´ä¸ç²¾åŠ›å‚åŠ ä¼šè®®ã€å´éš¾ä»¥çœŸæ­£è¿›å…¥å­¦æœ¯æ ¸å¿ƒäº¤æµçš„æƒ…å†µä¸‹ï¼ŒèŒ¶æ­‡é‡Œé‚£ç‚¹å…è´¹ç”œç‚¹æˆäº†æœ€ç›´æ¥ã€æœ€ç¡®å®šçš„å›æŠ¥ã€‚<br>ä¸€æ–¹é¢ï¼Œå®ƒç¼“è§£äº†åˆå…¥å­¦æœ¯åœˆæ—¶é¢å¯¹å¤§ä½¬çš„ç´§å¼ ä¸èº«ä»½ç„¦è™‘ï¼Œç”¨å³æ—¶çš„æ„‰æ‚¦å¯¹å†²å¿ƒç†å‹åŠ›ï¼›å¦ä¸€æ–¹é¢ï¼Œä¹Ÿæºäºâ€œé”™è¿‡å³æŸå¤±â€çš„å¿ƒç†é©±åŠ¨ï¼Œè®©äººæœ¬èƒ½åœ°ä¸æƒ³æ”¾è¿‡è¿™ä»½çœ‹å¾—è§ã€æ‹¿å¾—åˆ°çš„ç¦åˆ©ã€‚<br>äºæ˜¯ï¼Œå°é¥¼å¹²ä¸åªæ˜¯åƒçš„ï¼Œæ›´æˆäº†å‚ä¼šè€…åœ¨é«˜å¼ºåº¦å­¦æœ¯åœºæ™¯ä¸­è‡ªæˆ‘å®‰æ…°ã€è‡ªæˆ‘å¥–åŠ±çš„è±¡å¾ã€‚",
         "ç½‘é¡µè§£å¯†æ¸¸æˆæ˜¯ä¸€ç§åŸºäºæµè§ˆå™¨è¿è¡Œçš„äº’åŠ¨å¼è§£è°œæ¸¸æˆï¼Œç©å®¶é€šè¿‡ç‚¹å‡»ã€æœç´¢ã€è¾“å…¥ã€é˜…è¯»ç½‘é¡µå†…å®¹ç”šè‡³æŸ¥çœ‹æºç ã€é“¾æ¥ä¸éšè—ä¿¡æ¯æ¥æ¨è¿›å‰§æƒ…ã€‚<br>å®ƒå¸¸æŠŠæ•…äº‹ç¢ç‰‡åˆ†æ•£åœ¨çœ‹ä¼¼æ™®é€šçš„ç½‘é¡µã€æ–‡ä»¶æˆ–ç³»ç»Ÿç•Œé¢ä¸­ï¼Œè¦æ±‚ç©å®¶åƒâ€œè°ƒæŸ¥è€…â€ä¸€æ ·ä¸»åŠ¨å‘ç°çº¿ç´¢ï¼Œåœ¨è§£è°œçš„è¿‡ç¨‹ä¸­é€æ­¥æ‹¼å‡‘çœŸç›¸ï¼Œå…¶æ ¸å¿ƒä¹è¶£ä¸åœ¨æ“ä½œæŠ€å·§ï¼Œè€Œåœ¨è§‚å¯Ÿã€æ¨ç†ä¸å¯¹ä¿¡æ¯çš„æ•æ„Ÿåº¦ã€‚"
    ]
},
    'å›å»Š': {
    options: [
        "å¸ˆå…„åšå£«æ¯•ä¸äº†ä¸šï¼Œä»–è¿˜èƒ½æœ‰ä»€ä¹ˆå‡ºè·¯ï¼Ÿ", 
        "åœ¨å…¬å…±è®ºå›å‘å¸–ï¼Œä¼šè¢«è¿½è¸ªIPæŸ¥å‡ºçœŸå®èº«ä»½å—ï¼Ÿ", 
        "è¿™ä¸ªå¹´ä»£ï¼Œè¿˜æœ‰äººç”¨BBSå‘å¸–æ±‚åŠ©ï¼Ÿ"
    ],
    answers: [
        "å¦‚æœç¡®å®æ— æ³•å®Œæˆåšå£«å­¦ä½ï¼Œå¸¸è§çš„å‡ºè·¯åŒ…æ‹¬ï¼š<br>1. ç”³è¯·è½¬ç¡•ï¼ˆMaster outï¼‰ï¼Œæ‹¿ç¡•å£«å­¦ä½æ¯•ä¸šï¼›<br>2. å‡­å€Ÿç§‘ç ”èƒŒæ™¯è¿›å…¥ä¼ä¸šç ”å‘éƒ¨ï¼Œä¼ä¸šæ›´çœ‹é‡è§£å†³é—®é¢˜çš„å®æˆ˜èƒ½åŠ›ï¼›<br>3. è·¨è¡Œè¿›å…¥æŠ€æœ¯å’¨è¯¢ã€ç§‘æŠ€åª’ä½“æˆ–é¡¹ç›®ç®¡ç†é¢†åŸŸã€‚<br>âš ï¸ å­¦ä½å¹¶éèŒä¸šç”Ÿæ¶¯çš„å”¯ä¸€å…¥åœºåˆ¸ã€‚",
        "åœ¨å¤§å¤šæ•°å…¬å…±è®ºå›ï¼Œç®¡ç†å‘˜å¯ä»¥é€šè¿‡åå°è®°å½•æŸ¥çœ‹åˆ°å‘å¸–äººçš„IPåœ°å€ã€‚<br>ç»“åˆç½‘ç»œè¿è¥å•†çš„å®åä¿¡æ¯ï¼Œç›¸å…³éƒ¨é—¨åœ¨åˆè§„æµç¨‹ä¸‹æ˜¯å¯ä»¥è¿½æº¯åˆ°å‘å¸–äººçœŸå®èº«ä»½çš„ã€‚<br>å› æ­¤ï¼Œç½‘ç»œç©ºé—´å¹¶éç»å¯¹åŒ¿åï¼Œå»ºè®®æ–‡æ˜å‘è¨€å¹¶ä¿æŠ¤ä¸ªäººéšç§ã€‚",
        "æ˜¯çš„ï¼ŒBBSåœ¨å­¦æœ¯åœˆã€å‚ç›´æŠ€æœ¯ç¤¾åŒºå’Œé«˜æ ¡å†…ç½‘ä¸­ä¾ç„¶ä¸å¯æ›¿ä»£ã€‚åŸå› ä¸»è¦æœ‰ä¸‰ç‚¹ï¼š<br>1. é•¿æ•ˆç´¢å¼•ä¸æ²‰æ·€ï¼šå³æ—¶é€šè®¯è½¯ä»¶çš„æ¶ˆæ¯æ˜¯æµå¼çš„ï¼Œå¾ˆéš¾è¢«æœç´¢å¼•æ“äºŒæ¬¡æ£€ç´¢ã€‚BBS çš„å¸–å­å…·æœ‰â€œé•¿å°¾æ•ˆåº”â€ï¼Œäº”å¹´å‰çš„ä¸€ä¸ªæ±‚åŠ©è´´å’Œä¸‹æ–¹çš„ä¸“ä¸šå›å¤ï¼Œè‡³ä»Šå¯èƒ½è¿˜åœ¨ä¸ºåæ¥è€…æä¾›å‚è€ƒã€‚<br>2. æ·±åº¦è®¨è®ºçš„æ°›å›´ï¼šä¸åŒäºç¢ç‰‡åŒ–è¡¨è¾¾ï¼ŒBBS çš„ç‰ˆå—åŒ–ç®¡ç†æ›´é€‚åˆå‘å¸ƒé€»è¾‘æ¸…æ™°çš„é•¿ç¯‡æ±‚åŠ©ï¼Œè¿™å¯¹äºç§‘ç ”æ¢è®¨ã€å¤æ‚æŠ€æœ¯æ’éšœæˆ–æ·±åº¦ç»éªŒåˆ†äº«è‡³å…³é‡è¦ã€‚<br>3. åŠå°é—­çš„ä¿¡ä»»æ„Ÿï¼šè®¸å¤šé«˜æ ¡æˆ–æŸäº›ç§æœ‰å®éªŒå®¤çš„BBSï¼Œå…·æœ‰å‡†å…¥é—¨æ§›ï¼Œè¿™ç§â€œåœˆå†…äººâ€çš„èº«ä»½è®¤åŒä½¿å¾—æ±‚åŠ©è€…æ›´å®¹æ˜“è·å¾—é«˜è´¨é‡ã€çœŸå®çš„å†…éƒ¨å»ºè®®ã€‚"
    ]
},
    'SIT Lab': {
        options: ["å¦‚ä½•åˆ¤æ–­å¯¼å¸ˆæ˜¯å¦Pushï¼Ÿ", "å®éªŒå®¤åŠ©ç†é€šå¸¸è´Ÿè´£ä»€ä¹ˆï¼Ÿ", "ç¨‹åºå‘˜åˆ°åº•å¯¹â€œHelloWorldâ€æœ‰ä»€ä¹ˆæ‰§å¿µï¼Ÿ"],
        answers: [
            "1. çœ‹å®éªŒå®¤æ–‡åŒ–ï¼šè§‚å¯Ÿå®éªŒå®¤å…¶ä»–åŒå­¦çš„çŠ¶æ€ï¼Œä»–ä»¬æ˜¯å¦æŒ‰æ—¶æäº¤ä»»åŠ¡ã€å¯¼å¸ˆæ˜¯å¦é¢‘ç¹è·Ÿè¿›ã€‚<br>2. çœ‹å¯¼å¸ˆçš„æ²Ÿé€šä¹ æƒ¯ï¼šPushå‹å¯¼å¸ˆé€šå¸¸ä¼šå®šæœŸcheck-inï¼Œè®¾ç«‹æ˜ç¡®çš„é‡Œç¨‹ç¢‘æˆ–è¿›åº¦è¦æ±‚ï¼Œç”šè‡³ä¸»åŠ¨è¯¢é—®ä½ çš„è¿›å±•ï¼ˆé€šè¿‡é¢å¯¹é¢æ²Ÿé€šã€é˜¶æ®µæ€»ç»“ã€å®éªŒå®¤èšé¤ç­‰æ–¹å¼ï¼‰ã€‚<br>3. é—®è¿‡å»çš„å­¦ç”Ÿï¼šå‘å­¦é•¿å­¦å§äº†è§£å¯¼å¸ˆçš„ç®¡ç†é£æ ¼ï¼Œæœ‰äº›å¯¼å¸ˆè¡¨é¢æ¸©å’Œï¼Œä½†å®é™…å¯¹è¿›åº¦è¦æ±‚ä¸¥æ ¼ã€‚<br>âš¡ å°æŠ€å·§ï¼šé¢è¯•æˆ–è¿›å®éªŒå®¤å‰ï¼Œå¯ä»¥ç›´æ¥é—®å¯¼å¸ˆâ€œæ‚¨ä¸€èˆ¬å¦‚ä½•è·Ÿè¿›å­¦ç”Ÿçš„è¿›åº¦ï¼Ÿâ€æ¥è¯•æ¢å…¶Pushå¼ºåº¦ã€‚",
            "å­¦æœ¯å®éªŒå®¤çš„åŠ©ç†é€šå¸¸ç”±æœ¬ç§‘é«˜å¹´çº§æˆ–ç ”ç©¶ç”Ÿæ‹…ä»»ï¼Œéœ€è¦æœ‰ä¸€å®šä¸“ä¸šåŸºç¡€ã€è´£ä»»å¿ƒå’Œç»†å¿ƒï¼Œ<br>å·¥ä½œä¸»è¦åŒ…æ‹¬ç®¡ç†ä»ªå™¨è®¾å¤‡ã€æ•´ç†å®éªŒæ•°æ®å’Œæ–‡æ¡£ã€å¤„ç†éƒ¨åˆ†è¡Œæ”¿äº‹åŠ¡å’ŒæŠ¥é”€ï¼Œä»¥åŠç»´æŠ¤å®éªŒå®¤ç¯å¢ƒå’Œå®‰å…¨ï¼Œæœ‰æ—¶ä¹Ÿè¾…åŠ©ç§‘ç ”æˆ–æ•™å­¦ï¼Œæ˜¯ä¿éšœå®éªŒé¡ºåˆ©è¿›è¡Œã€ç§¯ç´¯ç§‘ç ”ç»éªŒçš„åŸºç¡€å²—ä½ã€‚",
            "â€œHelloWorldâ€ä¹‹æ‰€ä»¥æˆä¸ºç¨‹åºå‘˜çš„è±¡å¾ï¼Œæ˜¯å› ä¸ºå®ƒèµ·æºäºæœ€æ—©çš„ç¼–ç¨‹ä¹¦ç±ï¼Œæ˜¯å­¦ä¹ ä¸€é—¨æ–°è¯­è¨€æˆ–æµ‹è¯•æ–°ç¯å¢ƒçš„ç»å…¸å…¥é—¨ç¨‹åºï¼Œæ ‡å¿—ç€ç¨‹åºå‘˜ä¸è®¡ç®—æœºé¦–æ¬¡æˆåŠŸâ€œå¯¹è¯â€ã€‚å¸¦æ¥ç¼–å†™ç¨‹åºçš„æœ€åˆå–œæ‚¦ä¸æˆå°±æ„Ÿï¼Œæˆä¸ºäº†ç¼–ç¨‹æ–‡åŒ–å’Œä¼ ç»Ÿçš„æ ‡å¿—ã€‚"
        ]
    },
    'é’å¤§æ ‘æ´': {
        options: ["ä»€ä¹ˆæ˜¯ç”µé£æ‰‡ç»™åˆ†ï¼Ÿ", "å­¦æ ¡é£Ÿå ‚éƒ½æ˜¯è°åœ¨ç»è¥ï¼Ÿ", "å›½è‡ªç„¶åŸºé‡‘ç”³è¯·éš¾åº¦æœ‰å¤šå¤§ï¼Ÿ"],
        answers: [
         "â€œç”µé£æ‰‡ç»™åˆ†â€æŒ‡çš„æ˜¯ä¸€ç§ç‹¬ç‰¹çš„åˆ¤å·æ–¹å¼ ï¼š<br>æŠŠä¸€å †å·å­æ”¾åœ¨ä¸€èµ·ï¼Œç”¨ç”µé£æ‰‡ä¸€å¹ï¼Œå·å­é£˜å¾—æœ€è¿œçš„å°±æ˜¯æˆç»©ä¸å¥½çš„ã€‚å› ä¸ºå­—å†™å¾—å°‘ï¼Œå·å­è½»ï¼Œè‡ªç„¶é£˜å¾—è¶Šè¿œã€‚è€Œå­—å†™å¾—å¤šçš„å·å­è‡ªç„¶é‡ï¼Œå°±è½åœ¨äº†è¿‘å¤„ã€‚<br>ğŸ’¡ è€ƒè¯•ä¸€å®šè¦æŠŠå·å­å†™æ»¡ï¼Œä¸ç®¡ä¼šä¸ä¼šï¼Œå…ˆæŠŠè‡ªå·±çš„è®¤çœŸå­¦ä¹ çš„æ€åº¦å±•ç¤ºç»™è€å¸ˆ :) ",
        "æ ¹æ®æ•™è‚²éƒ¨é—¨çš„ç›¸å…³è§„å®šï¼Œé«˜æ ¡é£Ÿå ‚é€šå¸¸é‡‡ç”¨â€œæ ¡æ–¹ç›‘ç®¡+å¤šå…ƒåŒ–ç»è¥â€æ¨¡å¼ï¼š<br>1. å­¦æ ¡ç›´è¥ï¼šé€šå¸¸ä¸ºåŸºç¡€ä¼™é£Ÿä¿éšœçª—å£ï¼Œç”±åå‹¤é›†å›¢ç›´æ¥è´Ÿè´£ï¼Œäº«å—æ”¿ç­–è¡¥è´´ï¼Œä»·æ ¼è¾ƒä½ã€‚<br>2. ç¤¾ä¼šåŒ–å¤–åŒ…ï¼šç‰¹è‰²æ¡£å£ã€å¥¶èŒ¶åº—åŠéƒ¨åˆ†ç‹¬ç«‹é¤å…é€šå¸¸å¤–åŒ…ç»™å…·å¤‡èµ„è´¨çš„ç¬¬ä¸‰æ–¹é¤é¥®å…¬å¸ï¼ˆå¦‚å¿«é¤å“ç‰Œæˆ–ä¸“ä¸šå›¢è†³å…¬å¸ï¼‰ã€‚<br>3. ç›‘ç®¡æœºåˆ¶ï¼šæ— è®ºä½•ç§ç»è¥ä¸»ä½“ï¼Œé£Ÿå“å®‰å…¨ä¸å®šä»·å‡å—å­¦æ ¡åå‹¤ç®¡ç†éƒ¨é—¨åŠå½“åœ°å¸‚åœºç›‘ç®¡å±€å…±åŒç›‘ç£ã€‚",
        "å›½å®¶è‡ªç„¶ç§‘å­¦åŸºé‡‘ï¼ˆNSFï¼‰çš„ç”³è¯·éš¾åº¦è¢«å…¬è®¤ä¸ºå­¦æœ¯ç•Œçš„â€œé‡‘å­—å¡”å°–â€ã€‚å…¶éš¾åº¦ä½“ç°åœ¨ï¼š<br>1. èµ„åŠ©ç‡ï¼šå¹³å‡èµ„åŠ©ç‡é€šå¸¸ç»´æŒåœ¨15%-20%å·¦å³ï¼Œè¿™æ„å‘³ç€çº¦80%çš„é¡¹ç›®ä¼šè¢«æ·˜æ±°ã€‚<br>2. è¯„å®¡æœºåˆ¶ï¼šé‡‡ç”¨åŒ¿åè¯„å®¡åˆ¶åº¦ï¼Œå¯¹ç”³è¯·äººçš„ç§‘ç ”èƒŒæ™¯ã€è¯¾é¢˜çš„å‰æ²¿æ€§ã€æŠ€æœ¯è·¯çº¿çš„å¯è¡Œæ€§åŠé¢„æœŸæˆæœæœ‰æå…¶ä¸¥æ ¼çš„è¦æ±‚ã€‚<br>3. ç«äº‰å¼ºåº¦ï¼šéšç€åšå£«äººæ‰å­˜é‡å¢åŠ ï¼Œé’å¹´åŸºé‡‘å’Œé¢ä¸Šé¡¹ç›®çš„ç«äº‰å·²ä»â€œæ¯”æ‹¼å­¦æœ¯æ°´å¹³â€è¿›åŒ–åˆ°â€œæ¯”æ‹¼ç»¼åˆå®åŠ›ä¸åˆ›æ–°ç»†èŠ‚â€ã€‚å»ºè®®ç”³è¯·è€…æå‰ä¸€å¹´å‡†å¤‡ç”³è¯·ä¹¦ã€‚"
        ]
    },
'æ™ºæ ¸ç§‘æŠ€': {
    options: [
        "ä¸€æ£µæ ‘åœ¨æ£®æ—é‡Œå€’ä¸‹ï¼Œè€Œå‘¨å›´æ²¡æœ‰äººå¬è§ï¼Œå®ƒæ˜¯å¦å‘å‡ºäº†å£°éŸ³ï¼Ÿ", 
        "å¦‚æœè§‚æµ‹æœ¬èº«ä¼šæ”¹å˜è¢«è§‚æµ‹è€…çš„ç»“å±€ï¼Œçœ‹è§ï¼Œä¼šä¸ä¼šå°±æ˜¯ä¼¤å®³ï¼Ÿ", 
        "å³ä¾¿é€‰æ‹©ä¸é€‰æ‹©ï¼Œé‚£æ˜¯å¦ä¹Ÿæ˜¯ä¸€ç§é€‰æ‹©ï¼Ÿ"
    ],
    answers: [
        "æ ‘å‘å‡ºäº†éœ‡åŠ¨ï¼Œä½†æ²¡æœ‰å‘å‡ºâ€œå£°éŸ³â€ã€‚<br>ç‰©ç†ä¸Šçš„ç©ºæ°”æ³¢åŠ¨æ˜¯å®¢è§‚äº‹å®ï¼Œä½†â€œå£°éŸ³â€æ˜¯çµé­‚ä¸ä¸–ç•Œçš„ç›¸é‡ã€‚è‹¥æ— æ„Ÿå®˜å»æ‰¿æ¥é‚£ä»½éœ‡è¡ï¼Œå®ƒä¾¿åªæ˜¯ä¸€åœºå¯‚é™çš„èµ·ä¼ã€‚<br>è¿™å‘Šè¯‰æˆ‘ä»¬ï¼šä¸–ç•Œçš„ä¸€åŠæ˜¯ç”±å®¢è§‚æ„æˆçš„ï¼Œè€Œå¦ä¸€åŠï¼Œæ˜¯ç”±æˆ‘ä»¬çš„è§‰çŸ¥å®Œæˆçš„ã€‚",
        "çœ‹è§å³æ˜¯æŸç§ç¨‹åº¦çš„å‰¥å¤ºã€‚<br>è¿™ç§ç”±äºä»‹å…¥è€Œå¯¼è‡´çš„çœŸç›¸æ‰­æ›²æˆ–çŠ¶æ€æ”¹å˜ï¼Œæœ¬è´¨ä¸Šæ˜¯å¯¹è¢«è§‚æµ‹è€…è‡ªè¶³æ€§çš„ä¸€ç§ç ´åã€‚<br>ä½†çœŸæ­£çš„é—®é¢˜ä¸åœ¨äºæ˜¯å¦çœ‹è§ï¼Œè€Œåœ¨äºçœ‹è§ä¹‹åï¼Œæ˜¯æ§åˆ¶ã€åˆ©ç”¨ï¼Œè¿˜æ˜¯å…‹åˆ¶ä¸å®ˆæŠ¤ã€‚",
        "åœ¨é€»è¾‘å­¦å’Œå†³ç­–è®ºä¸­ï¼Œé€‰æ‹©æ˜¯å¯¹ä¸åŒè·¯å¾„çš„ç­›é€‰ã€‚å½“ä½ é¢ä¸´ A å’Œ B ä¸¤ä¸ªé€‰é¡¹æ—¶ï¼Œå¦‚æœä½ å†³å®šâ€œæˆ‘ä¸é€‰â€ï¼Œä½ å®é™…ä¸Šæ˜¯é€‰æ‹©äº†ç¬¬ä¸‰ä¸ªé€‰é¡¹â€”â€”ç»´æŒç°çŠ¶æˆ–ä»»ç”±äº‹æ€è‡ªç„¶å‘å±•ã€‚<br>å› ä¸ºæ—¶é—´åœ¨æ¨ç§»ï¼Œä½ æ— æ³•æš‚åœç”Ÿå‘½ã€‚åœ¨æŸä¸ªæ—¶é—´èŠ‚ç‚¹ä¸Šï¼Œä½ æ²¡æœ‰é‡‡å–è¡ŒåŠ¨ï¼Œæ—¶é—´å°±ä¼šæ›¿ä½ åšå‡ºå†³å®šã€‚"
    ]
}
};

// åˆ«åæ˜ å°„
const ALIAS_MAP = {
    'é’å·æ™ºæ ¸ç§‘æŠ€æœ‰é™å…¬å¸': 'æ™ºæ ¸ç§‘æŠ€',
    'é’å·æ™ºæ ¸ç§‘æŠ€': 'æ™ºæ ¸ç§‘æŠ€',
    'SIT LAB': 'SIT Lab',
    'sit lab': 'SIT Lab'
};

// ä¿®æ”¹åŸæœ‰çš„è·³è½¬å‡½æ•°
const originalRecordAndJump = recordAndJump;
recordAndJump = function(keyword, url) {
    originalRecordAndJump(keyword, url); // æ‰§è¡ŒåŸé€»è¾‘
    
    let key = ALIAS_MAP[keyword] || keyword;
    if (GEMINI_DATA[key]) {
        showGeminiToast(key);
    }
};

function showGeminiToast(keyword) {
    const toast = document.getElementById('gemini-toast');
    toast.style.display = 'block';
    toast.onclick = () => openGeminiChat(keyword);
}

function openGeminiChat(keyword) {
    closeGeminiUI('gemini-toast');
    const chatWin = document.getElementById('gemini-chat-win');
    chatWin.style.display = 'flex';
    
const optionsArea = document.getElementById('gemini-options');
    const aiText = document.getElementById('gemini-ai-text');
    
    // è°ƒæ•´åçš„ AI æç¤ºæ–‡å­—æ ·å¼ï¼šæ›´å¤§å­—ä½“ã€æ›´ç°ä»£çš„å­—ä½“æ—ã€æ›´å¤§çš„è¡Œé—´è·
    aiText.innerHTML = `
        <div style="
            font-size: 20px; 
            color: #4285f4; 
            margin-bottom: 15px; 
            font-weight: 600; 
            line-height: 1.6; 
            font-family: 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
            letter-spacing: 0.5px;
            text-shadow: 0px 0px 1px rgba(66,133,244,0.2);
        ">
            å…³äºâ€œ${keyword}â€ï¼Œ<br>ä½ æœ€æƒ³äº†è§£å“ªä¸ªæ–¹å‘ï¼Ÿ
        </div>
    `;
    optionsArea.innerHTML = '';
    
const data = GEMINI_DATA[keyword];
    data.options.forEach((opt, index) => {
        const btn = document.createElement('button');
        btn.className = 'gemini-opt-btn'; // ç»Ÿä¸€ç±»å
        btn.innerText = opt;
        
        // ç‚¹å‡»é€‰é¡¹ä»…åˆ‡æ¢å†…å®¹ï¼Œä¸é”å®š
        btn.onclick = () => {
            // å¢åŠ æ¸æ˜¾åŠ¨ç”»æ•ˆæœ
            aiText.style.opacity = 0;
            
            setTimeout(() => {
                aiText.innerHTML = `
                    <div style="
                        font-size: 18px; 
                        font-weight: 600; 
                        color: #4285f4; 
                        margin-bottom: 12px;
                        font-family: 'Segoe UI', sans-serif;
                        letter-spacing: 0.5px;
                    ">
                        ${opt}
                    </div>

                    <div style="
                        font-size: 14px; 
                        color: #f0f0f0; 
                        line-height: 1.8; 
                        font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
                        letter-spacing: 0.2px;
                        word-break: break-word;
                    ">
                        ${data.answers[index]}
                    </div>

                    <div style="
                        margin-top: 25px; 
                        border-top: 1px solid rgba(255,255,255,0.1); 
                        padding-top: 15px; 
                        text-align: right;
                    ">
                        <button id="best-fit-btn" onclick="confirmBestChoice(this, '${keyword}', '${opt}')" 
                            style="
                                background: #4285f4; 
                                color: white; 
                                border: none; 
                                padding: 10px 20px; 
                                border-radius: 8px; 
                                cursor: pointer; 
                                font-size: 12px; 
                                font-weight: 500;
                                transition: all 0.2s;
                                box-shadow: 0 4px 12px rgba(66, 133, 244, 0.3);
                            "
                            onmouseover="this.style.background='#5a95f5'"
                            onmouseout="this.style.background='#4285f4'"
                        >
                            ğŸ‘ æœ€ä½³è”æƒ³
                        </button>
                    </div>
                `;
                aiText.style.opacity = 1;
                aiText.style.transition = 'opacity 0.4s ease';
            }, 50);
        };
        optionsArea.appendChild(btn);
    });
}
function confirmBestChoice(clickedBtn, keyword, choice) {
    // 1. ç¦ç”¨ä¸Šæ–¹æ‰€æœ‰é€‰é¡¹æŒ‰é’®å¹¶ç½®ç°
    const allOptBtns = document.querySelectorAll('.gemini-opt-btn');
    allOptBtns.forEach(btn => {
        btn.disabled = true;
        btn.style.opacity = '0.4';
        btn.style.filter = 'grayscale(100%)';
        btn.style.cursor = 'not-allowed';
    });

    // 2. è®°å½•åˆ° localStorage
    let bestMemories = JSON.parse(localStorage.getItem('geminiBestChoices') || "{}");
    bestMemories[keyword] = choice;
    localStorage.setItem('geminiBestChoices', JSON.stringify(bestMemories));

    // 3. æ›´æ–°ç‚¹èµæŒ‰é’®è‡ªèº«çŠ¶æ€
    clickedBtn.innerHTML = "âœ… å·²å­˜å…¥æ·±åº¦è®°å¿†";
    clickedBtn.style.background = "#07c160";
    clickedBtn.disabled = true;

    console.log("å·²å­˜å…¥è®°å¿†åº“ï¼š", bestMemories);
}

function closeGeminiUI(id) {
    document.getElementById(id).style.display = 'none';
}
    function saveToLocalStorage(keyword) {
        let history = JSON.parse(localStorage.getItem('searchHistory') || "[]");
        if (!history.includes(keyword)) {
            history.unshift(keyword); // æ–°è®°å½•æ’åœ¨æœ€å‰
            if (history.length > 8) history.pop(); // æœ€å¤šå­˜8æ¡
            localStorage.setItem('searchHistory', JSON.stringify(history));
            renderHistory();
        }
    }

    // æœç´¢æ¡†è¾“å…¥ç›‘å¬
function handleExactSearch(val) {
    const keyword = val.trim();
    const res = document.getElementById('searchResults');

    // å…ˆæ¸…ç©º
    res.innerHTML = `
        <div style="padding: 10px; font-size: 11px; border-bottom: 1px solid #eee; background: #f9f9f9; color: #666;">
            æœ€ä½³åŒ¹é…
        </div>
    `;

    // åªæœ‰â€œå®Œå…¨å‘½ä¸­â€æ‰å±•ç¤º
    if (SEARCH_MAP[keyword]) {
        const item = document.createElement('div');
        item.className = 'search-item';
item.onclick = () => {
    recordAndJump(keyword, SEARCH_MAP[keyword]);
};
        item.innerHTML = `
            <img src="https://img.icons8.com/color/24/000000/light.png">
            <div class="search-item-info">
                <div class="search-item-title">${keyword}</div>
                <div class="search-item-type">çµæ„Ÿ</div>
            </div>
        `;
        res.appendChild(item);
        res.style.display = 'block';
    } else {
        res.style.display = 'none';
    }
}


    // å›è½¦é”®å¿«æ·è§¦å‘
document.getElementById('searchInput').onkeydown = function(e) {
    if (e.key === 'Enter') {
        const val = this.value.trim();
        if (SEARCH_MAP[val]) {
            recordAndJump(val, SEARCH_MAP[val]);
        } else if (val === 'å›æ”¶ç«™') {
            saveToLocalStorage('å›æ”¶ç«™');
            openRecycleBin();
            this.value = '';
        }
    }
};




// ç»Ÿä¸€è·³è½¬é€»è¾‘
function jumpTo(text) {
    if (SEARCH_MAP[text]) {
        // æ ¸å¿ƒä¿®æ”¹ï¼šä» window.location.href æ”¹ä¸º window.open
        window.open(SEARCH_MAP[text], '_blank'); 
    } else if (text === 'å›æ”¶ç«™') {
        openRecycleBin();
    }
    closeWindow('historyWindow');
}

    // é¢æ¿åˆ‡æ¢
function toggleHistory(e) {
    e.stopPropagation();
    UIState.startMenuOpen = !UIState.startMenuOpen;
    renderStartMenu();
}
function renderStartMenu() {
    const win = document.getElementById('historyWindow');
    win.style.display = UIState.startMenuOpen ? 'flex' : 'none';
}

    function openRecycleBin() { document.getElementById('recycleWindow').style.display = 'flex'; }
    function closeWindow(id) { document.getElementById(id).style.display = 'none'; }
    
function updateClock() {
    const now = new Date();
    
    // 1. è·å–çœŸå®çš„æ—¶é—´å¹¶æ ¼å¼åŒ– (æ—¶:åˆ†)
    const hours = now.getHours().toString().padStart(2, '0');
    const minutes = now.getMinutes().toString().padStart(2, '0');
    const seconds = now.getSeconds().toString().padStart(2, '0'); // å¦‚æœä½ æƒ³æ˜¾ç¤ºç§’ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªå˜é‡
    
    // æ›´æ–°æ—¶é—´æ˜¾ç¤º (å¦‚æœä½ HTMLé‡Œåªæœ‰æ—¶åˆ†ï¼Œå°±ç”¨è¿™ä¸ª)
    document.getElementById('time').innerText = hours + ":" + minutes;
    
    // 2. å›ºå®šæ—¥æœŸä¸º 2025/01/09
    // ä¸å†ä½¿ç”¨ now.getFullYear()ï¼Œç›´æ¥å†™æ­»æ—¥æœŸ
    document.getElementById('date').innerText = "2026/1/9";
}
document.addEventListener('mousedown', function () {
    if (UIState.startMenuOpen) {
        UIState.startMenuOpen = false;
        renderStartMenu();
    }
});
document.getElementById('historyWindow')
    .addEventListener('mousedown', e => e.stopPropagation(), true);

document.querySelector('.start-btn')
    .addEventListener('mousedown', e => e.stopPropagation(), true);
     function switchTab(tab) {
        document.getElementById('chat-view').style.display = 'none';
        document.getElementById('moments-content').style.display = 'none';
        document.getElementById('subs-view').style.display = 'none';
        document.querySelectorAll('.list-item').forEach(i => i.classList.remove('selected'));

        if(tab === 'chat') {
            document.getElementById('chat-view').style.display = 'flex';
        } else if(tab === 'moments') {
            document.getElementById('moments-content').style.display = 'block';
        } else if(tab === 'subs') {
            document.getElementById('subs-view').style.display = 'block';
            document.getElementById('subs-item').classList.add('selected');
        }
    }

    function openChat(name) {
        switchTab('chat');
        document.getElementById('chat-title').innerText = name;
        // ç®€å•æ¨¡æ‹Ÿä¸åŒå¯¹è¯
        const msgBox = document.getElementById('chat-msg');
        if(name.includes('å‚¬é¥­å½’')) {
msgBox.innerHTML = `
        <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-end;">
    <div style="background:#dcf8c6; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">
        æˆ‘è¿™å°å®éªŒå®¤ç”µè„‘ä¹‹å‰æ˜¯è°åœ¨ç”¨å•Šï¼Ÿ
    </div>
</div>

<div style="margin-bottom:15px;">
    <div style="background:#fff; padding:8px; border-radius:4px; width:fit-content;">
        æˆ‘æƒ³æƒ³ï¼Œä¸Šä¸€ä¸ªå¥½åƒæ˜¯<strong>éº¦é—»</strong>å­¦é•¿
    </div>
</div>

        <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-end;">
    <div style="background:#dcf8c6; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">
        å“¦â€¦å¥½ä¹…æ²¡åœ¨302çœ‹åˆ°ä»–äº†
    </div>
</div>

<div style="margin-bottom:15px;">
    <div style="background:#fff; padding:8px; border-radius:4px; width:fit-content;">
        ä½ å®ä¹ é‚£æ®µæ—¶é—´ï¼Œä»–å¥½åƒç”³è¯·é€€å‡ºå®éªŒå®¤äº†ï¼Œä¸Šæ¬¡çœ‹åˆ°ä»–æ¥å·¥ä½æŠŠä¸œè¥¿éƒ½æ¬èµ°äº†
    </div>
</div>
        <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-end;">
    <div style="background:#dcf8c6; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">
     å•Šï¼Ÿä¸ºä»€ä¹ˆï¼Œä»–ä¸æ˜¯ä¸€ç›´éƒ½ç®—æˆ‘ä»¬ç»„çš„å¤§è…¿å—?
    </div>
</div>

<div style="margin-bottom:15px;">
    <div style="background:#fff; padding:8px; border-radius:4px; width:fit-content;">
        ğŸ¤·
    </div>
</div>
`;


        } else if(name.includes('ç§‘ç ”ç‰§åœº')) {
             msgBox.innerHTML = `
        <div style="margin-bottom:15px;"><small style="color:#888">å¤æœ¨</small><div style="background:#fff; padding:8px; border-radius:4px; width:fit-content;">@æ‰€æœ‰äºº è¯·å¤§å®¶ä»Šæ™šå‰å¡«å¥½ç¦»æ ¡æ—¶é—´è¡¨ï¼Œæ–¹ä¾¿ç»Ÿè®¡å€¼ç­æƒ…å†µã€‚</div></div>
        <div style="margin-bottom:15px;"><small style="color:#888">å‚¬é¥­å½’</small><div style="background:#fff; padding:8px; border-radius:4px; width:fit-content;">æˆ‘ç•™æ ¡ğŸ™‹å¹´åº•çš„å®éªŒæ•°æ®ä¸€ç›´æ²¡æ¥å¾—åŠæ•´ç†ã€‚</div></div>
        <div style="margin-bottom:15px;"><small style="color:#888">Bur</small><div style="background:#fff; padding:8px; border-radius:4px; width:fit-content;">ä¸‹å‘¨å°±å›äº†ï¼Œèµ¶å¾—ä¸Šå¹´æœ«èšé¤å—ï¼Ÿ</div></div>
        <div style="margin-bottom:15px;"><small style="color:#888">å¤æœ¨</small><div style="background:#fff; padding:8px; border-radius:4px; width:fit-content;">èšé¤å®šåœ¨ä¸‹å‘¨ä¸€æ™šä¸Šï¼Œé¡ºä¾¿ç»™@å®‹å®å¦‚æ„ è¿‡ç”Ÿæ—¥ï¼Œè›‹ç³•å·²å®‰æ’~ğŸ‚</div></div>
         <div style="margin-bottom:15px;"><small style="color:#888">å®‹å®å¦‚æ„</small><div style="background:#fff; padding:8px; border-radius:4px; width:fit-content;">è°¢è°¢å¤§å®¶</div></div>
    `;
        } else if(name.includes('Bur')) {
             msgBox.innerHTML = `
                   <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-end;">
            <div style="background:#dcf8c6; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">
                è€æ¿å›½å¤–å¼€ä¼šè¿˜æ²¡å›ï¼Œç»„é‡Œçœ‹èµ·æ¥ä¹Ÿæ²¡å‰©å‡ ä¸ªäººï¼Œæˆ‘ä»¬å¹´ç»ˆæ€»ç»“è¿˜è¦å¼€å—ï¼Ÿ
            </div>
        </div>

        <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-start;">
            <div style="background:#fff; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">
                æ²¡å“ªæ¬¡èƒ½è·‘å¾—æ‰
            </div>
        </div>
                <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-start;">
            <div style="background:#fff; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">
                çœ‹çœ‹ä½ çš„PPTï¼Œæˆ‘å¸®ä½ æ¶¦è‰²ä¸‹ğŸ˜Š
            </div>
        </div>
        
        <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-end;">
            <div style="background:#dcf8c6; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">
                Væˆ‘50
            </div>
        </div>
          <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-end;">
    <div style="background:#dcf8c6; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">
        è¯è¯´ï¼Œæˆ‘è¿™å°å®éªŒå®¤ç”µè„‘ä¹‹å‰æ˜¯è°åœ¨ç”¨å•Šï¼Ÿ
    </div>
</div>

<div style="margin-bottom:15px;">
    <div style="background:#fff; padding:8px; border-radius:4px; width:fit-content;">
        æˆ‘æƒ³æƒ³ï¼Œä¸Šä¸€ä¸ªå¥½åƒæ˜¯éº¦é—»å­¦é•¿
    </div>
</div>

        <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-end;">
    <div style="background:#dcf8c6; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">
        å“¦â€¦å¥½ä¹…æ²¡åœ¨302çœ‹åˆ°ä»–äº†
    </div>
</div>

<div style="margin-bottom:15px;">
    <div style="background:#fff; padding:8px; border-radius:4px; width:fit-content;">
        ä½ å®ä¹ é‚£æ®µæ—¶é—´ï¼Œä»–å¥½åƒç”³è¯·é€€å‡ºå®éªŒå®¤äº†ï¼Œä¸Šæ¬¡çœ‹åˆ°ä»–æ¥å·¥ä½æŠŠä¸œè¥¿éƒ½æ¬èµ°äº†
    </div>
</div>
        <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-end;">
    <div style="background:#dcf8c6; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">
     å•Šï¼Ÿä¸ºä»€ä¹ˆï¼Œä»–ä¸æ˜¯ä¸€ç›´éƒ½ç®—æˆ‘ä»¬ç»„çš„å¤§è…¿å—?
    </div>
</div>

<div style="margin-bottom:15px;">
    <div style="background:#fff; padding:8px; border-radius:4px; width:fit-content;">
        ğŸ¤·
    </div>
</div>`;

        } else {
    msgBox.innerHTML = `
        <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-start;">
            <div style="background:#fff; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">å¥•äº‘ï¼Œä½ çš„å®ä¹ è¯æ˜å¼€å¥½äº†ã€‚</div>
        </div>
        <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-end;">
            <div style="background:#dcf8c6; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">æ‚¨å‘æˆ‘é‚®ç®±å°±å¥½äº†ï¼Œè°¢è°¢</div>
        </div>
                <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-start;">
            <div style="background:#fff; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">æ²¡é—®é¢˜ã€‚å¼€å­¦åè¿˜è€ƒè™‘æ¥å…¬å¸å®ä¹ å—ï¼Ÿå¤§å®¶å¯¹ä½ è¯„ä»·éƒ½å¾ˆå¥½ğŸ‘</div>
        </div>
                <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-end;">
            <div style="background:#dcf8c6; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">å“ˆå“ˆï¼Œæˆ‘å¯èƒ½è€ƒè™‘å»åˆ«çš„è¡Œä¸šå¤šå­¦ä¹ ä¸€ä¸‹ã€‚æ„Ÿè°¢æç»ç†ï¼Œé‚®ä»¶æ”¶åˆ°äº†</div>
        </div>
        <div style="margin-bottom:15px; display:flex; flex-direction:column; align-items:flex-start;">
            <div style="background:#fff; padding:8px; border-radius:4px; width:fit-content; max-width:70%; margin-top:2px;">ä¸å®¢æ°”ï½</div>
        </div>
    `;
        }
    }
function saveBestMemory(keyword, choice) {
    // 1. è·å–ç°æœ‰å­˜å‚¨
    let bestMemories = JSON.parse(localStorage.getItem('geminiBestChoices') || "{}");
    
    // 2. è®°å½•å½“å‰å…³é”®è¯çš„æœ€åä¸€æ¬¡é€‰æ‹©
    bestMemories[keyword] = choice;
    localStorage.setItem('geminiBestChoices', JSON.stringify(bestMemories));
    
    // 3. è§†è§‰åé¦ˆï¼šæ”¹å˜æŒ‰é’®çŠ¶æ€
    const btn = document.getElementById('best-fit-btn');
    btn.innerHTML = "âœ… å·²å­˜å…¥æ·±åº¦è®°å¿†";
    btn.style.background = "#555";
    btn.disabled = true;

    console.log(`å·²è®°å½•åå¥½ï¼š${keyword} -> ${choice}`); // è°ƒè¯•ç”¨
}
    
    // åˆ‡æ¢çª—å£æ˜¾ç¤º/éšè—
function toggleApp(id) {
    const win = document.getElementById(id);
    if (win.style.display === 'flex') {
        win.style.display = 'none';
    } else {
        win.style.display = 'flex';
        // æå‡å±‚çº§ï¼Œç¡®ä¿å¼¹çª—åœ¨æœ€é¡¶å±‚
        win.style.zIndex = 5000; 
    }
    document.querySelectorAll('.icon').forEach(icon => {
    icon.addEventListener('click', () => {
        const url = icon.getAttribute('data-url');
        if (url) window.location.href = url;
    });
});

}

</script>


</body>
</html>